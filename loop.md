# 迴圈

本文將詳細解說如何使用迴圈來執行重複的程式碼。

文中將以 `cout<<"灰色底字"<<endl` 來標示一些程式碼，或是

    cout<<"灰色底字"<<endl;
   
來標示多行程式碼。

## for 迴圈
### 基本格式

`for` 迴圈的基本格式如下：
    
	for( A ; B ; D )
	{
		C
	}

第一行是一個 `for( ; ; )` ，中間由兩個分號分隔（切記不是冒號！！）。這三個格子 A、B、D 分別在做什麼我們會在下面的 **執行步驟** 中詳細解說。

緊接著是「一組」大括號 `{ ... }` ，中間可以放任意行數的程式碼，你想重複執行的程式碼就是放在這裡。

> 註：A、B、C、D 為代號

### 執行步驟

上述的Code會這跑：

> A -> if(B) -> C -> D -> if(B) -> C -> D -> ... -> if(B)

注意到 B 外面放了 `if` 嗎？

沒錯，這裡的 B 是一個判斷式，在 `for` 迴圈的每一圈開始前檢查 B 是否成立，如果成立就再跑一圈 C -> D ，不成立則跳出。

以下是一個 `for` 迴圈的簡單範例：

	for( int i=0 ; i<=5 ; i++ )
	{
		cout<<"HELLO!"<<endl;
	}
    
這個迴圈的輸出如下：
    
	HELLO!
	HELLO!
	HELLO!
	HELLO!
	HELLO!

剛開始看或許很難理解，我們用上面的 A 、 B 、 C 、 D 來一步一步觀察吧！

#### A 部分 : `int i=1`

在用 `for` 迴圈時，我們通常會宣告一個變數來控制這個迴圈的次數（也就是現在是第幾圈），在這邊就是指我們上面的 `i` ，我們稱它為「控制變數」。

再複習一次 `for` 迴圈的流程：

> A -> if(B) -> C -> D -> if(B) -> C -> D -> ... -> if(B)

整個 `for` 迴圈只會執行一次 A！沒錯，`for` 迴圈的 `for( 這個位置 ; ; )` 就是專門給你宣告控制變數的！

> 註：控制變數習慣用 `i` , `j` , `k` 依序命名，因此我們在寫程式時也會盡量不在迴圈以外的地方使用 `i` , `j` , `k` 作為變數名稱。

#### B 部分 : `i<=5`

B 部分可以稱做是迴圈的核心，是判斷迴圈要不要繼續執行的條件，可以把他看成是一個 `if` 來理解。

事不宜遲，讓我們再複習一次 `for` 迴圈的流程～

> A -> if(B) -> C -> D -> if(B) -> C -> D -> ... -> if(B)

你可以看到，在每一圈（ if(B) -> C -> D ）的一開始，「B 是否成立？」會先被檢查一次，只有在 B 成立的時候才會繼續完成 C -> D ，B 不成立直接跳出迴圈。

以上方範例為例，我們可以把整個流程解讀成：

    
	int i=1;                                       // A 部分，宣告控制變數 i
	
	//if(i<=5)                                    // B 部分，此時 i 的值為 1，i<=5 成立，執行 C、D
	cout<<"HELLO!"<<endl;           // C 部分
	i++;                                            // D 部分，i 增加為 2
	
	//if(i<=5)                                    // B 部分，此時 i 的值為 2，i<=5 成立，執行 C、D
	cout<<"HELLO!"<<endl;           // C 部分
	i++;                                            // D 部分，i 增加為 3
	
	//if(i<=5)                                    // B 部分，此時 i 的值為 3，i<=5 成立，執行 C、D
	cout<<"HELLO!"<<endl;           // C 部分
	i++;                                            // D 部分，i 增加為 4
	
	//if(i<=5)                                    // B 部分，此時 i 的值為 4，i<=5 成立，執行 C、D
	cout<<"HELLO!"<<endl;           // C 部分
	i++;                                            // D 部分，i 增加為 5
	
	//if(i<=5)                                    // B 部分，此時 i 的值為 5，i<=5 成立，執行 C、D
	cout<<"HELLO!"<<endl;           // C 部分
	i++;                                            // D 部分，i 增加為 6
	
	//if(i<=5)                                    // B 部分，此時 i 的值為 6，i<=5 「不」成立，離開迴圈

B 部分的作用看出來了嗎？

在 B 成立時，C 與 D 會不停地重複執行，直到 B 不成立為止。

#### C 部分 : `{ cout<<"HELLO!"<<endl; }`

聰明的你看完 B 的說明後或許已經瞭解 C 與 D 的作用是什麼了。

C 部分放的是你希望重複執行的程式碼，用一對 `{ ... }` 圍著，裡面可以放任意行數哦！

> 註：如果你的 C 部分只有一行，你也可以選擇省略大括號，即：

    for( int i=1 ; i<=5 ; i++) cout<<"HELLO!"<<endl;
	
> 上方的結果與原來的程式碼：

	for( int i=0 ; i<=5 ; i++ )
	{
		cout<<"HELLO!"<<endl;
	}
	
> 完全相同！！（小提示：if 也有一樣的效果哦！）

#### D 部分 : `i++`

還記得 `i++` 的意思吧！不記得也沒關係，先來個小複習。

`i++` 、 `i+=1` 與 `i=i+1` 都是把 `i` 的值增加 1 的意思！

D 部分在每一圈結束前執行，通常會拿來修改控制變數的值。在這裡我們把他拿來讓 `i` 增加 1。

在這個部分常見的寫法還有：

`i--` ：讓 `i` 減少 1

`i+=2` ：讓 `i` 每圈增加 2

`i*=2` ：讓 `i` 每圈乘以 2

> 註：在 A 部分與 D 部分中，並沒有強制要求一定要執行與控制變數有關的程式碼，不過大多數時候都還是會將這兩個部分用作 宣告/修改 控制變數。不如說，`for` 迴圈之所以會分成三個部分，就是為了讓寫程式的人能夠更加方便地運用控制變數！

### 各種不同的 for 迴圈

或許看完上面的文字敘述還是無法讓你充分理解，沒關係！我在下面提供了各種不同的 `for` 迴圈範例以及他們的執行結果。可以試著打開你的 DevC++，複製程式碼並修改範例中的數值，或許能讓你更加熟悉 `for` 這個語法。

#### 1. 從 1 印到 5

程式碼：
    
	for( int i=1 ; i<=5 ; i++)
	{
		cout<<i<<endl;
	}

輸出：
    
	1
	2
	3
	4
	5

說明：

控制變數不只能控制迴圈的執行次數，有時也能拿來運算，或像這個例子，印出 1～5。

> 小挑戰：試著讓它不要換行 ex. `1 2 3 4 5 `

#### 2. 從 1 印到 n

程式碼：
    
	int n;
	cin>>n;
	for( int i=1 ; i<=n ; i++)
	{
		cout<<i<<endl;
	}

輸出：
    
	1
	2
	3
	.
	.    // 中間省略
	.
	20 // 假設你輸入 20

說明：

`for` 的執行次數能簡單地像這樣讓使用者輸入來決定！

> 小挑戰：試著修改上面的程式碼，讓輸出從 n 印到 1

#### 3. n! 階乘

程式碼：
    
	int n, ans=1;
	cin>>n;
	for( int i=1 ; i<=n ; i++)
	{
		ans=ans*i;
	}
	cout<<n<<"! = "<<ans<<endl;

輸出：
    
	5! = 120 // 假設你輸入 5

說明：

一個把控制變數用來運算的例子，迴圈也是幫助運算的好工具！

#### 4. 輸出正整數中小於等於 n 的偶數

程式碼：
    
	int n;
	cin>>n;
	for(int i=2 ; i<=n ; i+=2 )
	{
		cout<<i<<endl;
	}

輸出：
    
	2
	4
	6
	8
	10 // 假設你輸入 11

說明：

A 部分與 D 部分可以不用執著於 `int i=1` 跟 `i++` ，這個範例就能說明他的其他用法。

> 小挑戰：試著輸出小於 n 的 3 的倍數
